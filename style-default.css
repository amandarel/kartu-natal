@import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;600&display=swap');
:root { --red: #8e0e00; --red-light: #b01500; --green: #27ae60; --gold: #f1c40f; --white: #fff; --shadow: rgba(0,0,0,0.3); }
* { margin: 0; padding: 0; box-sizing: border-box; }
body { background: radial-gradient(circle, #7c170d 0%, #000000 100%); height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; font-family: 'Poppins', sans-serif; color: var(--white); }
.envelope-wrapper { position: absolute; z-index: 10; cursor: pointer; transition: transform 0.5s ease, opacity 0.5s ease; }
.envelope-wrapper:hover { transform: scale(1.05); }
.envelope { position: relative; width: 300px; height: 200px; background: var(--red); border-radius: 0 0 10px 10px; box-shadow: 0 10px 25px rgba(0,0,0,0.5); }
.flap { position: absolute; top: 0; left: 0; width: 0; height: 0; border-left: 150px solid transparent; border-right: 150px solid transparent; border-top: 110px solid var(--red-light); transform-origin: top; transition: transform 0.6s ease 0.2s, z-index 0.2s; z-index: 3; }
.pocket { position: absolute; bottom: 0; left: 0; width: 0; height: 0; border-left: 150px solid var(--red); border-right: 150px solid var(--red); border-bottom: 100px solid var(--red-light); border-top: 100px solid transparent; border-radius: 0 0 10px 10px; z-index: 2; }
.wax-seal { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -70%); width: 45px; height: 45px; background: var(--gold); border-radius: 50%; box-shadow: 0 4px 6px rgba(0,0,0,0.3), inset 0 2px 5px rgba(255,255,255,0.5); z-index: 4; display: flex; align-items: center; justify-content: center; border: 3px solid #d4ac0d; transition: transform 0.4s ease; }
.seal-icon { font-size: 20px; }
.click-hint { margin-top: 30px; text-align: center; font-size: 0.9rem; color: #ddd; letter-spacing: 2px; animation: pulseText 2s infinite; }
.letter { position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 90%; height: 90%; background: white; border-radius: 5px; z-index: 1; transition: transform 0.5s ease 0.6s; }
.letter .text { text-align: center; color: #333; font-family: 'Great Vibes', cursive; font-size: 1.5rem; margin-top: 20px; opacity: 0.5; }
.envelope-wrapper.open .flap { transform: rotateX(180deg); z-index: 1; }
.envelope-wrapper.open .wax-seal { transform: translate(-50%, -70%) scale(0); opacity: 0; }
.envelope-wrapper.open .letter { transform: translateX(-50%) translateY(-50px); z-index: 2; }
.envelope-wrapper.fade-out { opacity: 0; pointer-events: none; }
.card-container { position: relative; width: 350px; min-height: 500px; background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border: 2px solid rgba(255, 255, 255, 0.2); border-radius: 20px; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 30px 20px; text-align: center; opacity: 0; transform: scale(0.5); transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); pointer-events: none; z-index: 20; }
.card-container.active { opacity: 1; transform: scale(1); pointer-events: auto; }
.tree-container { position: relative; width: 150px; height: 200px; margin-bottom: 20px; }
.tree-layer { position: absolute; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 50px solid transparent; border-right: 50px solid transparent; border-bottom: 70px solid var(--green); }
.layer-1 { top: 0; border-bottom-color: #2ecc71; z-index: 3; border-width: 30px; border-bottom-width: 50px; }
.layer-2 { top: 30px; border-bottom-color: #27ae60; z-index: 2; border-width: 45px; border-bottom-width: 70px; }
.layer-3 { top: 70px; border-bottom-color: #1e8449; z-index: 1; border-width: 60px; border-bottom-width: 90px; }
.trunk { position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 30px; height: 40px; background: #5d4037; }
.star { position: absolute; top: -10px; left: 50%; transform: translateX(-50%); font-size: 2rem; color: var(--gold); animation: twinkle 1s infinite alternate; z-index: 4; }
.bauble { position: absolute; width: 8px; height: 8px; border-radius: 50%; z-index: 5; box-shadow: 0 0 5px var(--red); animation: flash 1.5s infinite; }
.main-title { font-family: 'Great Vibes', cursive; font-size: 3rem; color: var(--gold); margin: 10px 0; }
.to-text { font-size: 1.1rem; color: #ecf0f1; margin-bottom: 5px; }
#recipient-name { color: var(--gold); font-weight: bold; text-transform: capitalize; font-family: 'Great Vibes', cursive; font-size: 2rem; }
p { font-size: 0.9rem; line-height: 1.6; }
.footer { margin-top: 20px; font-size: 0.8rem; color: #bdc3c7; }
.snowflake { position: absolute; top: -10px; background: white; border-radius: 50%; opacity: 0.8; pointer-events: none; animation: fall linear forwards; }
@keyframes pulseText { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
@keyframes twinkle { from { opacity: 0.5; transform: translateX(-50%) scale(0.8); } to { opacity: 1; transform: translateX(-50%) scale(1.2); } }
@keyframes flash { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
@keyframes fall { to { transform: translateY(105vh); } }
